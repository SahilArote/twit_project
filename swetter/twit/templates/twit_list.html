{% extends "layout.html" %}

{% block title %}
Bolo or Suuno
{% endblock %}

{% block content %}

<style>
body {
  background-color: #000;
}

/* Feed container */
.feed {
  max-width: 500px;
  margin: auto;
}

/* Post card */
.post-card {
  background-color: #000;
  border: 1px solid #262626;
  border-radius: 8px;
  margin-bottom: 30px;
}

/* Header */
.post-header {
  padding: 10px 15px;
  font-weight: 600;
  border-bottom: 1px solid #262626;
}

/* Image */
.post-img {
  width: 100%;
  max-height: 450px;
  object-fit: cover;
}

/* Caption */
.post-body {
  padding: 10px 15px;
  color: #fff;
}

/* Buttons */
.post-actions a {
  font-size: 14px;
}

.post-card:hover {
  box-shadow: 0 0 10px rgba(255,255,255,0.15);
  transition: 0.3s;
}
</style>

<div class="feed mt-4">

  {% for twit in twits %}
  <div class="post-card">

    <!-- Username -->
    <div class="post-header text-white">
      {{ twit.user.username }}
    </div>

    <!-- Image -->
    {% if twit.photo and twit.photo.name %}
      <img src="{{ twit.photo.url }}" class="post-img" alt="Post image">
    {% else %}
      <img src="/static/default.jpg" class="post-img" alt="Default image">
    {% endif %}

    <!-- Caption -->
    <div class="post-body">
      <p class="mb-2">{{ twit.text }}</p>

      {% if twit.user == user %}
      <div class="post-actions d-flex gap-2">
        <a href="{% url 'twit_edit' twit.id %}" class="btn btn-outline-light btn-sm">Edit</a>
        <a href="{% url 'twit_delete' twit.id %}" class="btn btn-outline-danger btn-sm">Delete</a>
      </div>
      {% endif %}
    </div>

  </div>
  {% endfor %}

</div>

{% endblock %}
